{"version":3,"sources":["components/Apps/Potrawy/Tagi/Tagi.module.css","components/Apps/Apps.module.css","components/Home.tsx","config/config.ts","services/AuthHeader.ts","services/AuthService.ts","contexts/AuthContext.tsx","components/Message.tsx","components/Login.tsx","components/Register.tsx","components/Icons/LogoIcon.tsx","components/Navbar/UnauthenticatedNavbar.tsx","components/Navbar/AuthenticatedNavBar.tsx","components/Navbar/Navbar.tsx","hocs/PrivateRoute.tsx","components/Common/DodajButton/DodajButton.tsx","components/Apps/Potrawy/EdytujPotrawe/EdytujPotraweHelper.ts","components/Apps/Potrawy/Tagi/DodajTag/DodajTag.tsx","components/Apps/Potrawy/Tagi/Tag/Tag.tsx","components/Apps/Potrawy/Tagi/Tagi.tsx","components/Apps/Potrawy/EdytujPotrawe/EdytujPotrawe.tsx","components/Apps/Potrawy/Potrawa/Potrawa.tsx","components/Apps/Potrawy/PotrawyHelper.ts","components/Apps/Potrawy/Filtry/Filtry.tsx","components/Apps/Potrawy/Potrawy.tsx","contexts/SnackBarContext.tsx","components/Apps/SprawdzanieMangi/DodajMange/DodajMange.tsx","components/Apps/SprawdzanieMangi/MangaItem/MangaItem.tsx","components/Common/CommonHelper.ts","components/Apps/AppList.ts","components/Apps/SprawdzanieMangi/SprawdzanieMangi.tsx","components/Apps/MyCard/MyCard.tsx","components/Apps/Apps.tsx","components/Apps/AppsRoutes.tsx","components/Games.tsx","App.tsx","reportWebVitals.ts","index.tsx","components/Apps/SprawdzanieMangi/DodajMange/DodajMange.module.scss","components/Apps/SprawdzanieMangi/MangaItem/MangaItem.module.scss","components/Navbar/Navbar.module.css","components/Apps/Potrawy/EdytujPotrawe/EdytujPotrawe.module.scss","components/Apps/Potrawy/Potrawa/Potrawa.module.css","components/Apps/SprawdzanieMangi/SprawdzanieMangi.module.scss","components/Apps/Potrawy/Tagi/DodajTag/DodajTag.module.css","components/Apps/MyCard/MyCard.module.css","components/Apps/Potrawy/Filtry/Filtry.module.css","components/Apps/Potrawy/Potrawy.module.css","components/Navbar/AuthenticatedNavBar.module.css","components/Common/DodajButton/DodajButton.module.css","components/Apps/Potrawy/Tagi/Tag/Tag.module.css"],"names":["module","exports","Home","props","className","BASE_URL","process","AuthHeader","getAuthHeader","result","userStorage","localStorage","getItem","user","JSON","parse","accessToken","AuthService","login","a","fetch","method","headers","body","stringify","response","status","json","data","setItem","isAuthenticated","register","success","message","logout","removeItem","username","role","AuthContext","createContext","AuthProvider","children","useState","setUser","setIsAuthenticated","isLoaded","setIsLoaded","useEffect","getContextData","console","log","Provider","value","Backdrop","open","CircularProgress","color","Message","Login","authContext","useContext","setUsername","password","setPassword","setMessage","history","useHistory","from","useLocation","state","pathname","onSubmit","event","preventDefault","loginResponse","push","htmlFor","type","name","onChange","target","placeholder","Register","timerID","useRef","clearTimeout","current","registerResult","setTimeout","LogoIcon","viewBox","d","UnauthenticatedNavbar","to","AuthenticatedNavBar","React","anchorProfileEl","setAnchorProfileEl","onProfileClose","onClickLogout","classes","Avatar","onClick","currentTarget","charAt","toUpperCase","Menu","anchorEl","keepMounted","Boolean","onClose","MenuItem","Navbar","openMenu","setOpenMenu","clsx","MenuIcon","MenuIconActive","icon","faTimes","faBars","MenuList","MenuListActive","MenuItemSpace","PrivateRoute","Component","component","roles","rest","render","includes","location","DodajButton","onDodaj","Fab","EdytujPotraweHelper","isImageExists","image_url","Promise","resolve","img","Image","src","onload","onerror","dodajNowyTag","tagNazwa","nazwa","dodajPotrawe","dodawanaPotrawa","edytujPotrawe","edytowanaPotrawa","_id","dajNieWybraneTagi","tagi","wybraneTagi","filter","tag","find","wybranyTag","DodajTag","setTagi","czyDodawanieTaga","setCzyDodawanieTaga","nowyTag","setNowyTag","onDodajTagKeyDown","key","dodanyTag","InputBase","inputProps","DodajTagInput","DodajTagBezFocusa","style","width","length","onFocus","onBlur","onKeyDown","Tag","filtrTagiState","filtrTagi","setFiltrTagi","czyZanaczonyTag","some","t","Chip","variant","size","undefined","label","clickable","ft","Tagi","map","EdytujPotrawe","setPotrawy","tagiState","dodawaniePotrawy","setDodawaniePotrawy","setNazwa","zdjecieSrc","setZdjecieSrc","pokazZdjecie","setPokazZdjecie","uwagi","setUwagi","setWybraneTagi","linkDoPrzepisu","setLinkDoPrzepisu","pobierzTagi","zdjecie","link","akceptujDodawaniePotrawy","dodanaPotrawa","potrawy","akceptujEdycjePotrawy","potrawaDoEdycji","zedytowanaPotrawa","p","onZdjecieSrcBlur","isValidImg","onDodajClick","Dialog","fullWidth","maxWidth","DialogTitle","DialogContent","dividers","root","TextField","zdjecieImg","brakZdjecia","backgroundImage","DialogActions","actions","Button","Potrawa","potrawa","setEdytowanaPotrawa","setAnchorEl","onMenuClose","onEdytujClick","onUsunClick","Card","card","CardHeader","title","disableTypography","action","IconButton","PotrawaHeaderRoot","content","PotrawaHeaderContent","PotrawaHeaderAction","CardMedia","media","image","CardContent","Typography","PotrawyHelper","dajPotrawyPasujaceDoTagow","filtTagi","i","j","filtTag","dajPrzefiltrowanePotrawy","filtrNazwa","toLowerCase","Filtry","filtrNazwaState","setFiltrNazwa","FiltrNazwa","Potrawy","przefiltrowanePotrawy","setPrzefiltrowanePotrawy","getPotrawy","getTagi","ustawPrzefiltrowanePotrawy","ListaPotraw","SnackBarContext","SnackBarProvider","openSnackBar","setOpenSnackBar","msgSnackBar","setMsgSnackBar","severitySnackBar","setSeveritySnackBar","onCloseSnackBar","reason","show","msg","severity","Snackbar","autoHideDuration","Alert","DodajMange","dodawanieState","dodawanieMangi","setDodawanieMangi","getMangi","snackBarContext","setLink","chaptery","setChaptery","wybranyChapter","setWybranyChapter","kolejnosc","toString","onPobierzChapteryClick","url","nazwaMangi","zapisanieMangiKryteriaDTO","mangaNazwa","mangaUrl","mangaAktualnyChapter","chapter","localeCompare","numer","Wrapper","Label","Link","LinkInput","LinkButton","margin","disabled","Select","ChapterSelect","reverse","ButtonZapisz","MangaItem","manga","odswiezanaManga","ostatniChapter","aktualnyChapter","setAktualnyChapter","ostatnieOdswiezenie","setOstatnieOdswiezenie","odswiezanieWTrakcie","setOdswiezanieWTrakcie","odswiezMange","zmienAktualnyChapter","czyAktualnyChapterPierwszy","czyAktualnyChapterOstatni","dajKolejnoscAktualnegoChaptera","onOdswiezChapterClick","onUsunMangaClick","TableRow","MangaItemNaBiezaco","TableCell","MangaItemLink","href","rel","ChapterSelectWrapper","kolejnoscAktualnegoChaptera","prevNumer","ChapterSelectItem","nextNumer","moment","utc","fromNow","MangaAkcje","AkcjaButton","OdswiezMangeRotate","urlChapter","window","urlNastepny","sleepRand","msMin","msMax","ms","Math","floor","random","appList","tytul","loading","setLoading","mangi","setMangi","setOdswiezanaManga","responseManga","dataMangi","responseChapter","dataChaptery","onSprawdzMangiClick","SprawdzanieMangi","SprawdzMangi","TableContainer","Table","MangiTable","TableHead","TableBody","Test","ProgressWrapper","MyCard","app","useRouteMatch","Apps","AppsRoutes","path","exact","Games","App","locale","basename","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","StylesProvider","injectFirst","document","getElementById"],"mappings":"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","file":"static/js/main.33fc7597.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Tagi\":\"Tagi_Tagi__2hjBR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Apps\":\"Apps_Apps__1z_V0\"};","import React from \"react\";\r\n\r\ninterface Props {}\r\n\r\nconst Home: React.FC<Props> = (props) => {\r\n  return <div className=\"home\">Home</div>;\r\n};\r\n\r\nexport default Home;\r\n","export const BASE_URL = process.env.REACT_APP_BASE_URL;\r\n","class AuthHeader {\r\n  public static getAuthHeader = () => {\r\n    let result = {};\r\n\r\n    const userStorage = localStorage.getItem(\"user\");\r\n    if (userStorage) {\r\n      const user = JSON.parse(userStorage);\r\n\r\n      if (user && user.accessToken) {\r\n        // for Node.js Express back-end\r\n        result = { \"x-access-token\": user.accessToken };\r\n      }\r\n    }\r\n\r\n    return result;\r\n  };\r\n}\r\n\r\nexport default AuthHeader;\r\n","import { BASE_URL } from \"../config/config\";\r\nimport ILoginResponse from \"../interfaces/ILoginResponse\";\r\nimport ILoginResult from \"../interfaces/ILoginResult\";\r\nimport ILoginUser from \"../interfaces/ILoginUser\";\r\nimport IRegisterResponse from \"../interfaces/IRegisterResponse\";\r\nimport IRegisterResult from \"../interfaces/IRegisterResult\";\r\nimport IRegisterUser from \"../interfaces/IRegisterUser\";\r\nimport AuthHeader from \"./AuthHeader\";\r\n\r\nclass AuthService {\r\n  public static login = async (user: ILoginUser): Promise<ILoginResult> => {\r\n    const response = await fetch(`${BASE_URL}/auth/login`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(user),\r\n    });\r\n\r\n    if (response.status !== 401) {\r\n      const data: ILoginResponse = await response.json();\r\n\r\n      localStorage.setItem(\"user\", JSON.stringify(data));\r\n\r\n      return data;\r\n    } else {\r\n      return { isAuthenticated: false };\r\n    }\r\n  };\r\n\r\n  public static register = async (user: IRegisterUser): Promise<IRegisterResult> => {\r\n    const response = await fetch(`${BASE_URL}/auth/register`, {\r\n      method: \"POST\",\r\n      body: JSON.stringify(user),\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    });\r\n    const data: IRegisterResponse = await response.json();\r\n\r\n    if (response.status === 201) {\r\n      return { success: true, message: data.message };\r\n    } else {\r\n      return { success: false, message: data.message };\r\n    }\r\n  };\r\n\r\n  public static logout = () => {\r\n    localStorage.removeItem(\"user\");\r\n  };\r\n\r\n  public static isAuthenticated = async () => {\r\n    const response = await fetch(`${BASE_URL}/auth/authenticated`, { headers: AuthHeader.getAuthHeader() });\r\n    if (response.status !== 401) {\r\n      const data = await response.json();\r\n      return data;\r\n    } else {\r\n      return {\r\n        isAuthenticated: false,\r\n        user: {\r\n          username: \"\",\r\n          role: \"\",\r\n        },\r\n      };\r\n    }\r\n  };\r\n}\r\n\r\nexport default AuthService;\r\n","import React, { createContext, useEffect, useState } from \"react\";\nimport { Backdrop, CircularProgress } from \"@material-ui/core\";\nimport IUser from \"../interfaces/IUser\";\nimport AuthService from \"../services/AuthService\";\n\ninterface IAuth {\n  user: IUser;\n  setUser: React.Dispatch<React.SetStateAction<IUser>>;\n  isAuthenticated: boolean;\n  setIsAuthenticated: React.Dispatch<React.SetStateAction<boolean>>;\n}\n\nconst AuthContext = createContext({} as IAuth);\n\nconst AuthProvider: React.FC = ({ children }) => {\n  const [user, setUser] = useState({} as IUser);\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [isLoaded, setIsLoaded] = useState(false);\n\n  useEffect(() => {\n    getContextData();\n  }, []);\n\n  const getContextData = async () => {\n    try {\n      const data = await AuthService.isAuthenticated();\n      setUser(data.user);\n      setIsAuthenticated(data.isAuthenticated);\n      setIsLoaded(true);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  return (\n    <>\n      {!isLoaded ? (\n        <Backdrop open={true}>\n          <CircularProgress color=\"inherit\" />\n        </Backdrop>\n      ) : (\n        <AuthContext.Provider\n          value={{\n            user,\n            setUser,\n            isAuthenticated,\n            setIsAuthenticated,\n          }}\n        >\n          {children}\n        </AuthContext.Provider>\n      )}\n    </>\n  );\n};\n\nexport { AuthContext, AuthProvider };\n","import React from \"react\";\r\n\r\ninterface Props {\r\n  message: string;\r\n}\r\n\r\nconst Message: React.FC<Props> = (props: any) => {\r\n  return <div>{props.message}</div>;\r\n};\r\n\r\nexport default Message;\r\n","import React, { useContext, useState } from \"react\";\r\nimport { useHistory, useLocation } from \"react-router\";\r\nimport { AuthContext } from \"../contexts/AuthContext\";\r\nimport AuthService from \"../services/AuthService\";\r\nimport Message from \"./Message\";\r\n\r\ninterface ILocationState {\r\n  from: Location;\r\n}\r\n\r\ninterface Props {}\r\n\r\nconst Login: React.FC<Props> = () => {\r\n  const authContext = useContext(AuthContext);\r\n\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [message, setMessage] = useState(\"\");\r\n\r\n  const history = useHistory();\r\n  const location = useLocation<ILocationState>();\r\n  const { from } = location.state || { from: { pathname: \"/\" } };\r\n\r\n  const onSubmit = async (event: React.FormEvent<HTMLFormElement>) => {\r\n    event.preventDefault();\r\n\r\n    const loginResponse = await AuthService.login({ username, password });\r\n\r\n    const { isAuthenticated, user } = loginResponse;\r\n    if (isAuthenticated) {\r\n      authContext.setUser(user!);\r\n      authContext.setIsAuthenticated(isAuthenticated);\r\n      history.push(from);\r\n    } else {\r\n      setMessage(\"Błąd logowania.\");\r\n    }\r\n  };\r\n\r\n  const onChangeUsername = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    setUsername(event.target.value);\r\n  };\r\n\r\n  const onChangePassword = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    setPassword(event.target.value);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <form onSubmit={onSubmit}>\r\n        <h3>Please sign in</h3>\r\n        <label htmlFor=\"username\">Username: </label>\r\n        <input\r\n          type=\"text\"\r\n          name=\"username\"\r\n          value={username}\r\n          onChange={onChangeUsername}\r\n          placeholder=\"Enter username\"\r\n        />\r\n\r\n        <label htmlFor=\"username\">Password: </label>\r\n        <input\r\n          type=\"text\"\r\n          name=\"password\"\r\n          value={password}\r\n          onChange={onChangePassword}\r\n          placeholder=\"Enter password\"\r\n        />\r\n\r\n        <button type=\"submit\">Log in</button>\r\n        {message && <Message message={message} />}\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import React, { useEffect, useRef, useState } from \"react\";\r\nimport { RouteComponentProps } from \"react-router-dom\";\r\nimport AuthService from \"../services/AuthService\";\r\nimport Message from \"./Message\";\r\n\r\ninterface Props extends RouteComponentProps {}\r\n\r\nconst Register: React.FC<Props> = ({ history }) => {\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [message, setMessage] = useState(\"\");\r\n\r\n  let timerID = useRef<any>(null);\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      clearTimeout(timerID.current);\r\n    };\r\n  }, []);\r\n\r\n  const resetForm = () => {\r\n    setUsername(\"\");\r\n    setPassword(\"\");\r\n  };\r\n\r\n  const onSubmit = async (event: React.FormEvent<HTMLFormElement>) => {\r\n    event.preventDefault();\r\n\r\n    const registerResult = await AuthService.register({\r\n      username,\r\n      password,\r\n      role: \"user\",\r\n    });\r\n\r\n    setMessage(registerResult.message);\r\n    resetForm();\r\n\r\n    if (registerResult.success) {\r\n      timerID.current = setTimeout(() => {\r\n        history.push(\"/login\");\r\n      }, 2000);\r\n    }\r\n  };\r\n\r\n  const onChangeUsername = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    setUsername(event.target.value);\r\n  };\r\n\r\n  const onChangePassword = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    setPassword(event.target.value);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <form onSubmit={onSubmit}>\r\n        <h3>Please register</h3>\r\n        <label htmlFor=\"username\">Username: </label>\r\n        <input\r\n          type=\"text\"\r\n          name=\"username\"\r\n          value={username}\r\n          onChange={onChangeUsername}\r\n          placeholder=\"Enter username\"\r\n        />\r\n\r\n        <label htmlFor=\"password\">Password: </label>\r\n        <input\r\n          type=\"text\"\r\n          name=\"password\"\r\n          value={password}\r\n          onChange={onChangePassword}\r\n          placeholder=\"Enter password\"\r\n        />\r\n\r\n        <button type=\"submit\">Register</button>\r\n        {message && <Message message={message} />}\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Register;\r\n","import React from \"react\";\n\ninterface Props {\n  className?: string;\n}\n\nconst LogoIcon: React.FC<Props> = ({ className }) => {\n  return (\n    <svg viewBox=\"0 0 1300 700\" className={className}>\n      <g>\n        <path d=\"m 244.962,654.00607 c 13.43662,-19.42897 52.03266,-74.45479 85.76876,-122.27963 33.73612,-47.82502 71.70037,-104.18637 84.36491,-125.24769 l 23.02652,-38.29344 -181.42285,3.76981 c -99.78257,2.07345 -200.987622,-0.52505 -224.900084,-5.77413 -39.9923987,-8.77891 -32.8684358,-10.9696 88.878384,-27.33149 128.90167,-17.3235 242.63529,-53.21252 242.63529,-76.56456 0,-6.23462 -22.01033,-46.64993 -48.91187,-89.8117 C 277.90231,113.91346 265.59075,83.338894 265.88919,51.99866 l 0.40014,-41.998644 116.66078,123.558294 c 86.17168,91.26657 122.28582,122.48342 138.18358,119.4448 11.83751,-2.26243 63.09791,-54.15977 113.91191,-115.3273 l 92.38904,-111.214036 3.32795,37.199761 C 736.44618,127.19346 685.39721,203.68452 412.22494,540.95432 302.64422,676.24706 289.65169,688.60252 256.59733,688.95102 l -36.06545,0.38044 z\" />\n        <path d=\"m 542.31765,604.42611 c -9.03322,0.18315 -17.63865,2.93077 -25.93454,8.25692 -3.78465,2.42997 -8.46652,5.08041 -10.40392,5.88993 -1.93736,0.80945 -3.53,1.83656 -3.53872,2.28381 -0.011,0.44703 -1.82736,2.87018 -4.0422,5.38238 -9.5822,10.86777 -14.83051,28.27806 -10.40992,34.53637 0.97501,1.3803 2.68787,4.15337 3.80633,6.16151 5.64861,10.14102 18.77876,20.19219 28.93202,22.14604 v -0.003 c 6.97014,1.34121 10.61326,1.24605 18.57762,-0.48963 6.56512,-1.43004 13.50553,-4.44575 26.9971,-11.72821 5.97132,-3.22267 18.7341,-15.22871 20.78608,-19.553 2.14517,-4.52088 2.19136,-18.7144 0.0839,-25.81157 -2.70091,-9.09561 -16.4182,-21.11935 -28.10728,-24.63799 -5.75279,-1.73209 -11.3259,-2.54476 -16.74579,-2.43447 z m -1.48297,4.57949 c 5.21114,-0.0183 18.20652,2.79604 19.02572,4.12154 0.31831,0.51494 -1.04623,0.93765 -3.03319,0.93765 -2.87256,0 -3.61399,0.39462 -3.61399,1.917 0,2.41575 1.90893,3.15806 8.09036,3.15806 6.3033,0 10.06857,1.66355 14.05766,6.22095 4.27168,4.88026 6.26656,10.86022 6.26656,18.77784 0,5.76674 -0.39158,7.03622 -3.55268,11.53395 -1.95377,2.77982 -3.57286,5.40202 -3.59802,5.82645 -0.10659,1.80161 -13.29659,10.96916 -21.09341,14.66227 h 0.007 c -10.15114,4.80817 -19.40769,5.97564 -26.05941,3.2889 -2.23304,-0.90198 -5.40015,-1.88956 -7.03975,-2.19458 -1.63949,-0.30512 -5.52198,-2.07923 -8.62765,-3.94311 -9.13312,-5.4811 -21.05033,-17.63993 -17.28901,-17.63993 0.54073,0 0.98318,-0.91359 0.98318,-2.03 0,-1.11655 -0.44227,-2.03007 -0.98318,-2.03007 -0.53993,0 -0.72517,-0.67062 -0.40836,-1.49282 0.50601,-1.31875 0.75301,-1.31875 2.07165,0 2.1696,2.1696 2.31513,1.90593 1.1955,-2.14905 -0.55345,-2.00465 -0.6866,-4.40256 -0.29524,-5.32879 0.39113,-0.92637 0.77758,-2.60952 0.85824,-3.74091 0.16374,-2.29451 6.42147,-10.5633 8.13601,-10.75085 0.60443,-0.067 1.4885,-0.0494 1.96461,0.0366 0.47605,0.0857 1.67158,-0.77344 2.65652,-1.90912 0.98495,-1.1356 2.12019,-2.06571 2.52165,-2.06571 0.40095,0 2.71561,-1.43026 5.14451,-3.16594 4.10256,-2.94633 4.81285,-3.12216 10.0471,-2.46816 3.09755,0.38696 5.89414,1.12816 6.21498,1.64732 0.32125,0.51916 1.35576,0.95136 2.29971,0.95956 0.9441,0.007 2.40191,0.47454 3.23927,1.03487 1.31875,0.88253 1.26004,1.21879 -0.43407,2.5118 -1.07571,0.82091 -1.72403,1.72362 -1.44113,2.00626 0.28278,0.28279 1.59025,-0.63132 2.90626,-2.03205 1.84626,-1.96516 2.11685,-2.82337 1.18751,-3.75275 -0.66264,-0.6626 -1.20333,-2.00652 -1.20333,-2.98758 0,-0.9811 -1.58044,-3.04293 -3.51088,-4.58348 -4.0959,-3.26806 -3.2752,-4.35183 3.31066,-4.37524 z m -12.54106,22.80223 c -0.71198,-0.003 -1.47278,0.42476 -1.47278,1.0944 v 0.004 c 0,0.24359 0.71102,0.44615 1.58399,0.44615 0.87297,0 1.2989,-0.46655 0.94374,-1.03494 -0.21722,-0.35165 -0.62729,-0.50769 -1.05477,-0.50938 z m -29.51875,20.92883 c -0.23041,-0.082 -0.14689,0.3011 0.19816,1.20542 0.38132,1.00095 0.94836,1.5655 1.26096,1.25289 0.31245,-0.31245 -1.9e-4,-1.13142 -0.69392,-1.81992 -0.37594,-0.37308 -0.62693,-0.58938 -0.76517,-0.63839 z\" />\n        <path d=\"m 807.03922,10.008155 c -16.07179,-0.087692 -30.72487,0.531055 -37.08637,1.892407 -4.40257,0.942348 -8.22429,3.650117 -8.7085,6.164871 -1.18015,6.119132 10.58059,8.798359 22.52044,5.133876 5.13956,-1.577312 10.30689,-2.270758 11.48322,-1.543788 2.47894,1.531689 -2.77549,11.904722 -7.59058,14.986333 -3.75246,2.402634 -26.23912,36.222769 -28.70597,43.174128 -0.90187,2.545692 -3.11462,6.398681 -4.91326,8.565095 -7.9329,9.555766 -58.93608,114.278293 -70.34121,144.426713 -7.88462,20.83946 -24.60176,78.8268 -26.87509,93.22087 -0.91216,5.77707 -4.00652,19.9572 -6.87755,31.5113 -7.26678,29.24245 -10.28637,143.70406 -4.89791,185.69813 1.35029,10.51978 3.12135,26.25787 3.93879,34.97835 0.81678,8.72073 5.75615,29.99062 10.97066,47.26692 5.21381,17.2763 10.68161,36.14048 12.14989,41.91759 1.46879,5.7771 3.89436,13.16252 5.39051,16.41216 3.37367,7.32765 5.73945,7.34106 24.71055,0.13919 8.35854,-3.1737 17.55993,-5.95941 20.44832,-6.19044 2.88846,-0.23187 16.36384,-1.89582 29.94692,-3.69787 28.93787,-3.83913 43.35949,-4.21748 63.59194,-1.66696 18.67758,2.35472 20.26645,-0.66304 10.40124,-19.79202 -10.05593,-19.50018 -16.56765,-60.8708 -16.96604,-107.8174 -0.29121,-34.35776 0.78593,-50.59311 5.25707,-79.36289 0.87868,-5.65476 1.99707,-14.51729 2.4815,-19.69454 0.487,-5.17707 2.03315,-14.13802 3.43623,-19.91513 1.40436,-5.77707 3.26359,-17.00297 4.13377,-24.94645 3.47209,-31.68457 10.46103,-64.67167 22.52561,-106.35059 2.92652,-10.10987 7.66304,-26.94222 10.52952,-37.40427 5.42864,-19.81269 14.60333,-44.70792 18.14546,-49.24661 1.13124,-1.44796 5.28003,-10.90277 9.22179,-21.01265 12.35238,-31.68198 27.80429,-62.12617 44.39487,-87.461231 8.80224,-13.441945 16.42096,-23.190882 16.92993,-21.664014 1.87077,5.612406 5.78711,2.573458 4.30311,-3.338865 -1.13901,-4.533175 0.88901,-9.003633 7.83158,-17.314813 5.14905,-6.162791 9.36014,-13.425575 9.36014,-16.140285 0,-4.927073 -11.94684,-12.95022 -19.28413,-12.95022 -2.08473,0 -4.41444,-1.630611 -5.1803,-3.626025 -1.50227,-3.911048 -20.17652,-7.267711 -20.17652,-3.626077 0,2.237509 -19.18417,0.810157 -23.29992,-1.733447 -1.24202,-0.767381 -7.44041,-1.968224 -13.77092,-2.666905 -6.33113,-0.698604 -21.55333,-2.48952 -33.82952,-3.979776 -12.03729,-1.461381 -29.52817,-2.256572 -45.60004,-2.343927 z m 21.36648,10.057553 c 14.44279,-0.04879 70.41469,7.634128 88.57436,12.155198 30.21253,7.522003 35.60616,11.630989 25.8592,19.720241 -2.38619,1.981564 -5.66103,6.559158 -7.27264,10.170337 -1.61051,3.611183 -8.29392,14.836546 -14.8478,24.946417 -18.40008,28.386429 -35.05403,60.390339 -46.87718,90.092359 -5.92627,14.8883 -12.45649,29.65923 -14.51443,32.82426 -2.05891,3.16397 -6.80546,16.38953 -10.54989,29.38795 -7.33967,25.47689 -9.04264,31.02966 -16.91469,55.14471 -2.8289,8.66563 -5.75187,19.30066 -6.49323,23.63349 -0.74212,4.33277 -3.12179,14.37706 -5.29282,22.3205 -2.1723,7.94344 -5.20989,25.07773 -6.75472,38.07615 -1.54612,12.99835 -4.52443,32.49597 -6.61608,43.32802 -11.05729,57.26385 -15.38718,121.707 -10.81663,160.95169 2.02802,17.41447 2.9871,20.24688 5.62633,16.6378 2.73272,-3.737 3.4174,-2.85304 4.87748,6.27762 0.95853,6.00322 0.48183,12.90458 -1.09781,15.85831 -2.88293,5.38762 -2.24439,24.65649 0.92257,27.82363 4.43531,4.43553 -0.1033,5.60377 -27.75711,7.15469 -33.37311,1.87128 -58.73432,5.00824 -74.18278,9.17542 v -0.011 c -5.77707,1.55875 -11.71366,2.85872 -13.19121,2.89308 -2.43769,0.0568 -4.91271,-6.44041 -18.47395,-48.51319 C 662.676,589.28487 655.8775,518.71813 657.2827,461.01831 c 1.6363,-67.20073 2.45568,-74.72809 9.14443,-84.12245 5.50055,-7.72443 5.59902,-8.52799 1.43019,-11.57564 -4.19693,-3.06894 -4.20934,-4.49055 -0.18059,-22.60766 2.36553,-10.63252 5.86751,-24.648 7.78055,-31.14717 1.91205,-6.49926 6.70319,-23.63349 10.64733,-38.07619 6.97168,-25.52936 9.70395,-33.26274 19.46373,-55.14474 2.57685,-5.77703 7.3196,-16.69103 10.53964,-24.25406 3.22,-7.56297 6.88124,-13.11748 8.13952,-12.33987 1.25751,0.77773 1.63114,-0.30403 0.82454,-2.40548 -2.04344,-5.32168 9.30685,-27.11671 11.91927,-22.88975 1.4585,2.36068 2.4996,1.94502 3.83128,-1.5232 1.00498,-2.62117 0.60293,-5.17261 -0.89674,-5.67244 -1.63626,-0.54577 -0.61073,-5.06142 2.57425,-11.30385 2.91652,-5.7169 6.35817,-9.74132 7.64711,-8.94459 1.28842,0.79652 3.03707,0.32704 3.88252,-1.04106 0.84521,-1.36803 0.33224,-3.22933 -1.13897,-4.13888 -1.80894,-1.11786 -1.78055,-3.32961 0.1033,-6.82134 1.52036,-2.84139 3.87615,-4.47901 5.23154,-3.64141 1.35542,0.8377 1.78575,-0.24997 0.9534,-2.41556 -1.66201,-4.33124 6.67026,-20.371017 9.63209,-18.54056 1.01784,0.628264 1.68527,-0.913996 1.48685,-3.426003 -0.23187,-2.855033 1.36315,-4.428454 4.23637,-4.200506 4.88594,0.387553 6.39469,-3.265637 1.95839,-4.744142 -3.47102,-1.155422 9.31044,-25.426198 17.54037,-33.306396 7.56282,-7.241476 10.39425,-6.016718 6.17003,2.667011 -2.84406,5.846436 -2.78992,5.895019 1.1029,1.035912 2.24703,-2.803439 4.08227,-5.937963 4.08227,-6.96489 0,-1.024033 3.41637,-3.074824 7.56513,-4.492864 6.48465,-2.260396 7.42754,-3.793289 6.61633,-10.760205 -0.90703,-7.794637 -0.55143,-8.123985 8.84689,-8.154765 z m -14.12989,0.938487 c 0.94055,-0.157069 1.60535,0.422323 1.60535,1.56933 0,1.529322 -1.18275,2.779751 -2.62582,2.779751 -1.44301,0 -2.62601,-0.517128 -2.62601,-1.15415 0,-0.636967 1.18271,-1.892173 2.62601,-2.784934 0.3608,-0.224176 0.70608,-0.357363 1.02047,-0.410228 z M 669.98757,350.97512 c -0.63648,0 -1.15956,1.18176 -1.15956,2.62598 0,1.44428 1.25495,2.62593 2.77967,2.62593 1.52806,0 2.05118,-1.18176 1.15956,-2.62593 -0.89413,-1.44411 -2.14395,-2.62598 -2.77967,-2.62598 z\" />\n        <path d=\"m 1175.0227,10.004346 c -6.5928,-0.2170701 -3.236,7.552626 23.5755,59.649713 36.8083,71.519361 39.6599,78.871091 56.93,146.714641 2.6138,10.27005 5.577,28.20805 6.5855,39.862 1.009,11.6539 3.5069,28.45942 5.5487,37.34553 2.8457,12.38549 6.3312,66.05534 6.9399,106.85267 0.018,1.46707 -1.2606,18.27267 -2.8501,37.34553 -1.5888,19.07293 -3.453,43.08077 -4.142,53.35084 -0.6884,10.27 -3.1709,27.07546 -5.5122,37.34546 -11.3667,49.86168 -20.503,94.08813 -20.8038,100.69963 -0.1854,4.03465 -1.234,7.33579 -2.333,7.33579 -1.0937,0 -2.0021,1.36219 -2.0021,3.0426 0,1.68051 -2.6687,8.40172 -5.9496,14.93718 l -5.9446,11.90494 -14.7289,-1.63579 c -24.0984,-2.67241 -101.524,-2.06025 -118.7629,0.93773 -26.894,4.677 -25.9218,5.2259 -24.4765,-13.85868 0.6938,-9.17102 3.2885,-33.47762 5.7622,-54.01769 5.709,-47.4048 7.233,-227.43707 2.1582,-254.74996 -1.7716,-9.53645 -5.1154,-28.74273 -7.4297,-42.68063 -2.3145,-13.93789 -7.3182,-37.34557 -11.1184,-52.01701 -3.7996,-14.67148 -8.4341,-33.89098 -10.3001,-42.70672 -1.8669,-8.81352 -7.7184,-27.09058 -13.0043,-40.61741 -5.2855,-13.52709 -9.6124,-27.10405 -9.6124,-30.1661 0,-3.06211 -4.2014,-14.66005 -9.3364,-25.77404 -5.1351,-11.114336 -9.3875,-21.536551 -9.4509,-23.16387 -0.052,-1.627594 -6.01983,-9.550509 -13.23368,-17.604681 -9.98282,-11.145491 -13.85897,-13.900278 -16.22403,-11.535022 -5.31172,5.311601 -0.54816,22.014516 7.10638,24.924824 5.31491,2.020553 6.26663,3.771293 4.93908,9.060223 -1.15194,4.592707 0.011,8.329619 3.89205,12.493666 5.67506,6.09267 7.03381,9.41542 21.705,53.05901 21.0172,62.5218 42.2964,157.70493 47.1145,210.73564 5.733,63.09523 -0.527,220.53688 -11.4881,288.83922 -2.3039,14.3503 -3.4597,27.9952 -2.5687,30.31722 v 0.011 c 1.1864,3.09051 3.5737,3.75586 8.9196,2.46941 25.579,-6.15509 54.1597,-9.65088 81.9955,-10.02934 33.1067,-0.45018 76.8652,1.94275 88.3882,4.83491 5.2246,1.31139 8.2203,-0.17216 14.4528,-7.15341 4.3243,-4.84392 7.9616,-9.49007 8.0806,-10.32626 0.1058,-0.83626 0.6011,-4.52227 1.0671,-8.19015 0.4662,-3.66787 5.1317,-24.07454 10.3682,-45.34817 18.7353,-76.11553 20.5705,-85.43219 23.1849,-117.86146 1.4564,-18.06989 3.7794,-44.85842 5.163,-59.52989 3.1554,-33.45626 0.8872,-108.67899 -4.0222,-133.37695 -2.0418,-10.27001 -4.4858,-27.07549 -5.4341,-37.34556 -0.9481,-10.27 -2.9117,-24.07449 -4.3607,-30.6767 -1.4513,-6.60212 -3.175,-14.81298 -3.8346,-18.24558 -0.6594,-3.43254 -2.9426,-11.23513 -5.0694,-17.33896 -2.1265,-6.10387 -3.8809,-13.72867 -3.9024,-16.94307 -0.018,-3.21436 -1.2419,-6.58527 -2.7093,-7.49202 -1.4672,-0.90673 -2.6674,-4.05532 -2.6674,-6.99709 0,-2.94176 -3.1144,-12.17491 -6.9243,-20.51709 -14.4096,-31.55746 -28.2362,-60.70656 -31.2289,-65.850124 -1.7055,-2.9343 -10.3261,-19.739795 -19.1572,-37.345567 -12.331,-24.582418 -17.4014,-32.19996 -21.8458,-32.83363 -0.5244,-0.07425 -1.009,-0.127069 -1.4486,-0.140293 z m -12.1031,4.308688 c -0.2385,-0.01026 -0.482,0.01026 -0.7044,0.06355 -17.5845,4.192564 -42.0925,9.120868 -45.3013,9.112355 -2.2007,-0.0051 -8.8031,1.295235 -14.6715,2.891583 -5.8686,1.596296 -13.0711,3.140718 -16.0052,3.428168 -2.9343,0.287583 -11.9373,1.969213 -20.0066,3.740824 -8.0692,1.771641 -19.473,3.777531 -25.3417,4.459817 -12.2999,1.429989 -38.9343,8.839414 -42.27422,11.759018 -1.24458,1.089466 -1.43257,4.614696 -0.41041,7.830689 1.44063,4.53593 3.14523,5.435901 7.60153,4.006553 3.1609,-1.013718 17.1452,-4.040084 31.0833,-6.720963 13.9377,-2.680879 34.3445,-6.894132 45.3479,-9.367638 21.0843,-4.739706 23.8424,-5.138399 56.576,-8.11726 16.8413,-1.532505 21.6527,-3.032095 26.5867,-8.283941 4.8172,-5.12782 5.4238,-7.319249 3.0271,-10.95674 -1.4434,-2.188967 -3.7652,-3.767395 -5.5072,-3.844989 z\" />\n      </g>\n    </svg>\n  );\n};\n\nexport default LogoIcon;\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\ninterface Props {}\r\n\r\nconst UnauthenticatedNavbar: React.FC<Props> = (props) => {\r\n  return (\r\n    <>\r\n      <li>\r\n        <Link to=\"/register\">Register</Link>\r\n      </li>\r\n      <li>\r\n        <Link to=\"/login\">Login</Link>\r\n      </li>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default UnauthenticatedNavbar;\r\n","import React, { useContext } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Menu, MenuItem } from \"@material-ui/core\";\r\nimport { AuthContext } from \"../../contexts/AuthContext\";\r\nimport AuthService from \"../../services/AuthService\";\r\nimport classes from \"./AuthenticatedNavBar.module.css\";\r\n\r\ninterface Props {}\r\n\r\nconst AuthenticatedNavBar: React.FC<Props> = (props) => {\r\n  const { setIsAuthenticated, user, setUser } = useContext(AuthContext);\r\n\r\n  const [anchorProfileEl, setAnchorProfileEl] = React.useState<null | HTMLElement>(null);\r\n\r\n  const onProfileClick = (event: React.MouseEvent<HTMLDivElement>) => {\r\n    setAnchorProfileEl(event.currentTarget);\r\n  };\r\n\r\n  const onProfileClose = () => {\r\n    setAnchorProfileEl(null);\r\n  };\r\n\r\n  const onClickLogout = async () => {\r\n    setAnchorProfileEl(null);\r\n\r\n    AuthService.logout();\r\n    setUser({ username: \"\", role: \"\" });\r\n    setIsAuthenticated(false);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {user.role === \"admin\" && (\r\n        <li>\r\n          <Link to=\"/admin\">Admin</Link>\r\n        </li>\r\n      )}\r\n      <li>\r\n        <div className={classes.Avatar} onClick={onProfileClick}>\r\n          {user.username.charAt(0).toUpperCase()}\r\n        </div>\r\n      </li>\r\n      <Menu anchorEl={anchorProfileEl} keepMounted open={Boolean(anchorProfileEl)} onClose={onProfileClose}>\r\n        <MenuItem onClick={onProfileClose}>Profile</MenuItem>\r\n        <MenuItem onClick={onClickLogout}>Logout</MenuItem>\r\n      </Menu>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AuthenticatedNavBar;\r\n","import React, { useContext, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport clsx from \"clsx\";\r\nimport { AuthContext } from \"../../contexts/AuthContext\";\r\nimport LogoIcon from \"../Icons/LogoIcon\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faBars, faTimes } from \"@fortawesome/free-solid-svg-icons\";\r\nimport classes from \"./Navbar.module.css\";\r\nimport UnauthenticatedNavbar from \"./UnauthenticatedNavbar\";\r\nimport AuthenticatedNavBar from \"./AuthenticatedNavBar\";\r\n\r\ninterface Props {}\r\n\r\nconst Navbar: React.FC<Props> = (props) => {\r\n  const { isAuthenticated } = useContext(AuthContext);\r\n\r\n  const [openMenu, setOpenMenu] = useState(false);\r\n\r\n  const onMobileMenuClick = () => {\r\n    setOpenMenu((state) => !state);\r\n  };\r\n\r\n  return (\r\n    <nav className={classes.Navbar}>\r\n      <Link to=\"/\" className={classes.LogoIcon}>\r\n        <LogoIcon />\r\n      </Link>\r\n      <div\r\n        className={clsx(classes.MenuIcon, {\r\n          [classes.MenuIconActive]: openMenu,\r\n        })}\r\n        onClick={onMobileMenuClick}\r\n      >\r\n        {openMenu ? (\r\n          <FontAwesomeIcon icon={faTimes} />\r\n        ) : (\r\n          <FontAwesomeIcon icon={faBars} />\r\n        )}\r\n      </div>\r\n      <div className={classes.Menu}>\r\n        <ul\r\n          className={clsx(classes.MenuList, {\r\n            [classes.MenuListActive]: openMenu,\r\n          })}\r\n        >\r\n          <li>\r\n            <Link to=\"/apps\">Apps</Link>\r\n          </li>\r\n          <li>\r\n            <Link to=\"/games\">Games</Link>\r\n          </li>\r\n          <li className={classes.MenuItemSpace} />\r\n          {!isAuthenticated ? (\r\n            <UnauthenticatedNavbar />\r\n          ) : (\r\n            <AuthenticatedNavBar />\r\n          )}\r\n        </ul>\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n","import React, { useContext } from \"react\";\r\nimport { Redirect, Route, RouteProps } from \"react-router-dom\";\r\nimport { AuthContext } from \"../contexts/AuthContext\";\r\n\r\ninterface Props extends RouteProps {\r\n  roles: string[]\r\n};\r\n\r\nconst PrivateRoute: React.FC<Props> = ({ component: Component, roles, ...rest }) => {\r\n  const { isAuthenticated, user } = useContext(AuthContext);\r\n\r\n  if (!Component) return null;\r\n  \r\n  return (\r\n    <Route {...rest} render={props => {\r\n\r\n      if (!isAuthenticated) {\r\n        return <Redirect to={{ \r\n          pathname: \"/login\", \r\n          state: { \r\n            from: props.location\r\n          }\r\n        }} />\r\n      }\r\n\r\n      if (!roles.includes(user.role)) {\r\n        return <Redirect to={{ \r\n          pathname: \"/\", \r\n          state: { \r\n            from: props.location\r\n          }\r\n        }} />        \r\n      }\r\n      return <Component {...props} />;\r\n    }} />\r\n  );\r\n};\r\n\r\nexport default PrivateRoute;\r\n","import React from \"react\";\r\nimport { Fab } from \"@material-ui/core\";\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\nimport classes from \"./DodajButton.module.css\";\r\n\r\ninterface Props {\r\n  onDodaj: () => void;\r\n}\r\n\r\nconst DodajButton: React.FC<Props> = ({ onDodaj }) => {\r\n  return (\r\n    <Fab className={classes.Fab} color=\"secondary\" onClick={onDodaj}>\r\n      <AddIcon />\r\n    </Fab>\r\n  );\r\n};\r\n\r\nexport default DodajButton;\r\n","import IPotrawa from \"../../../../interfaces/apps/potrawy/IPotrawa\";\r\nimport ITag from \"../../../../interfaces/apps/potrawy/ITag\";\r\n\r\nexport default class EdytujPotraweHelper {\r\n  static isImageExists = (image_url: string) => {\r\n    return new Promise((resolve) => {\r\n      if (image_url) {\r\n        const img = new Image();\r\n        img.src = image_url;\r\n        img.onload = () => resolve(true);\r\n        img.onerror = () => resolve(false);\r\n      } else {\r\n        resolve(false);\r\n      }\r\n    });\r\n  };\r\n\r\n  static dodajNowyTag = async (tagNazwa: string): Promise<ITag> => {\r\n    const response = await fetch(\"/apps/posilki/tagi\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({ nazwa: tagNazwa }),\r\n    });\r\n    return await response.json();\r\n  };\r\n\r\n  static dodajPotrawe = async (dodawanaPotrawa: IPotrawa): Promise<IPotrawa> => {\r\n    const response = await fetch(\"/apps/posilki/potrawy\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(dodawanaPotrawa),\r\n    });\r\n    return await response.json();\r\n  };\r\n\r\n  static edytujPotrawe = async (edytowanaPotrawa: IPotrawa): Promise<IPotrawa> => {\r\n    const response = await fetch(`/apps/posilki/potrawy/${edytowanaPotrawa._id}`, {\r\n      method: \"PUT\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(edytowanaPotrawa),\r\n    });\r\n    return await response.json();\r\n  };\r\n\r\n  static dajNieWybraneTagi = (tagi: ITag[], wybraneTagi: ITag[]) => [\r\n    ...tagi.filter((tag) => !wybraneTagi.find((wybranyTag) => tag._id === wybranyTag._id)),\r\n  ];\r\n}\r\n","import React, { useState } from \"react\";\r\nimport clsx from \"clsx\";\r\nimport { InputBase } from \"@material-ui/core\";\r\nimport classes from \"./DodajTag.module.css\";\r\nimport ITag from \"../../../../../interfaces/apps/potrawy/ITag\";\r\n\r\ninterface Props {\r\n  setTagi: React.Dispatch<React.SetStateAction<ITag[]>>;\r\n}\r\n\r\nconst DodajTag: React.FC<Props> = ({ setTagi }) => {\r\n  const [czyDodawanieTaga, setCzyDodawanieTaga] = useState(false);\r\n  const [nowyTag, setNowyTag] = useState(\"\");\r\n\r\n  const dajDlugoscTaga = () => {\r\n    if (!czyDodawanieTaga) {\r\n      return 1;\r\n    }\r\n    if (nowyTag.length < 4) {\r\n      return 4;\r\n    }\r\n    return nowyTag.length + 1;\r\n  };\r\n\r\n  const onDodajTagFocus = () => {\r\n    setCzyDodawanieTaga(true);\r\n  };\r\n\r\n  const onDodajTagBlur = () => {\r\n    setNowyTag(\"\");\r\n    setCzyDodawanieTaga(false);\r\n  };\r\n\r\n  const onDodajTagChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    setNowyTag(event.target.value);\r\n  };\r\n\r\n  const onDodajTagKeyDown = async (event: React.KeyboardEvent<HTMLInputElement>) => {\r\n    if (event.key === \"Enter\") {\r\n      const response = await fetch(\"/apps/posilki/tagi\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({ nazwa: nowyTag }),\r\n      });\r\n      const dodanyTag = await response.json();\r\n      setTagi((tagi) => [...tagi, dodanyTag]);\r\n      setNowyTag(\"\");\r\n      setCzyDodawanieTaga(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <InputBase\r\n      className={classes.DodajTag}\r\n      inputProps={{\r\n        className: clsx(classes.DodajTagInput, {\r\n          [classes.DodajTagBezFocusa]: !czyDodawanieTaga,\r\n        }),\r\n        style: { width: `${dajDlugoscTaga()}ch` },\r\n      }}\r\n      value={czyDodawanieTaga ? nowyTag : \"+\"}\r\n      placeholder=\"tag\"\r\n      onFocus={onDodajTagFocus}\r\n      onBlur={onDodajTagBlur}\r\n      onChange={onDodajTagChange}\r\n      onKeyDown={onDodajTagKeyDown}\r\n    />\r\n  );\r\n};\r\n\r\nexport default DodajTag;\r\n","import React from \"react\";\r\nimport { Chip } from \"@material-ui/core\";\r\nimport DoneIcon from \"@material-ui/icons/Done\";\r\nimport ITag from \"../../../../../interfaces/apps/potrawy/ITag\";\r\nimport classes from \"./Tag.module.css\";\r\n\r\ninterface Props {\r\n  tag: ITag;\r\n  filtrTagiState: [ITag[], React.Dispatch<React.SetStateAction<ITag[]>>];\r\n}\r\n\r\nconst Tag: React.FC<Props> = ({ tag, filtrTagiState: [filtrTagi, setFiltrTagi] }) => {\r\n  const czyZanaczonyTag = () => {\r\n    return filtrTagi.some((t) => t._id === tag._id);\r\n  };\r\n\r\n  const onTagClick = () => {\r\n    if (czyZanaczonyTag()) {\r\n      setFiltrTagi((ft) => [...ft.filter((t) => t._id !== tag._id)]);\r\n    } else {\r\n      setFiltrTagi((ft) => [...ft, tag]);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Chip\r\n      className={classes.Tag}\r\n      variant={czyZanaczonyTag() ? \"default\" : \"outlined\"}\r\n      size=\"small\"\r\n      icon={czyZanaczonyTag() ? <DoneIcon /> : undefined}\r\n      label={tag.nazwa}\r\n      clickable\r\n      color=\"primary\"\r\n      onClick={onTagClick}\r\n    />\r\n  );\r\n};\r\n\r\nexport default Tag;\r\n","import React from \"react\";\r\nimport ITag from \"../../../../interfaces/apps/potrawy/ITag\";\r\nimport DodajTag from \"./DodajTag/DodajTag\";\r\nimport Tag from \"./Tag/Tag\";\r\nimport classes from \"./Tagi.module.css\";\r\n\r\ninterface Props {\r\n  tagi: ITag[];\r\n  filtrTagiState: [ITag[], React.Dispatch<React.SetStateAction<ITag[]>>];\r\n  setTagi?: React.Dispatch<React.SetStateAction<ITag[]>>;\r\n}\r\n\r\nconst Tagi: React.FC<Props> = ({ tagi, filtrTagiState, setTagi }) => {\r\n  return (\r\n    <div className={classes.Tagi}>\r\n      {tagi.map((tag) => (\r\n        <Tag key={tag._id} tag={tag} filtrTagiState={filtrTagiState} />\r\n      ))}\r\n      {Boolean(setTagi) && <DodajTag setTagi={setTagi!} />}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Tagi;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport clsx from \"clsx\";\r\nimport { Button, Dialog, DialogActions, DialogContent, DialogTitle, TextField } from \"@material-ui/core\";\r\nimport PhotoCameraIcon from \"@material-ui/icons/PhotoCamera\";\r\nimport DodajButton from \"../../../Common/DodajButton/DodajButton\";\r\nimport IPotrawa from \"../../../../interfaces/apps/potrawy/IPotrawa\";\r\nimport ITag from \"../../../../interfaces/apps/potrawy/ITag\";\r\nimport EdytujPotraweHelper from \"./EdytujPotraweHelper\";\r\nimport Tagi from \"../Tagi/Tagi\";\r\nimport classes from \"./EdytujPotrawe.module.scss\";\r\n\r\ninterface Props {\r\n  setPotrawy: React.Dispatch<React.SetStateAction<IPotrawa[]>>;\r\n  tagiState: [ITag[], React.Dispatch<React.SetStateAction<ITag[]>>];\r\n  dodawaniePotrawy: boolean;\r\n  setDodawaniePotrawy: React.Dispatch<React.SetStateAction<boolean>>;\r\n  edytowanaPotrawa: IPotrawa | undefined;\r\n}\r\n\r\nconst EdytujPotrawe: React.FC<Props> = ({\r\n  setPotrawy,\r\n  tagiState: [tagi, setTagi],\r\n  dodawaniePotrawy,\r\n  setDodawaniePotrawy,\r\n  edytowanaPotrawa,\r\n}) => {\r\n  const [nazwa, setNazwa] = useState(\"\");\r\n  const [zdjecieSrc, setZdjecieSrc] = useState(\"\");\r\n  const [pokazZdjecie, setPokazZdjecie] = useState(false);\r\n  const [uwagi, setUwagi] = useState(\"\");\r\n  const [wybraneTagi, setWybraneTagi] = useState<ITag[]>([]);\r\n  const [linkDoPrzepisu, setLinkDoPrzepisu] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    pobierzTagi();\r\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n  const pobierzTagi = async () => {\r\n    const response = await fetch(\"/apps/posilki/tagi\");\r\n    const data = await response.json();\r\n    setTagi(data);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (edytowanaPotrawa) {\r\n      setNazwa(edytowanaPotrawa.nazwa);\r\n      setZdjecieSrc(edytowanaPotrawa.zdjecie);\r\n      setPokazZdjecie(Boolean(edytowanaPotrawa.zdjecie));\r\n      setUwagi(edytowanaPotrawa.uwagi);\r\n      setWybraneTagi(edytowanaPotrawa.tagi);\r\n      setLinkDoPrzepisu(edytowanaPotrawa.link);\r\n    }\r\n  }, [edytowanaPotrawa]);\r\n\r\n  const dajTytul = () => {\r\n    if (edytowanaPotrawa) {\r\n      return \"Edycja potrawy\";\r\n    }\r\n    return \"Dodawanie potrawy\";\r\n  };\r\n\r\n  const akceptujDodawaniePotrawy = async () => {\r\n    const dodawanaPotrawa: IPotrawa = {\r\n      nazwa,\r\n      zdjecie: zdjecieSrc,\r\n      uwagi,\r\n      tagi: wybraneTagi,\r\n      link: linkDoPrzepisu,\r\n    };\r\n    const dodanaPotrawa = await EdytujPotraweHelper.dodajPotrawe(dodawanaPotrawa);\r\n    if (dodanaPotrawa) {\r\n      setPotrawy((potrawy) => [...potrawy, dodanaPotrawa]);\r\n      setDodawaniePotrawy(false);\r\n    }\r\n  };\r\n\r\n  const akceptujEdycjePotrawy = async () => {\r\n    const potrawaDoEdycji: IPotrawa = {\r\n      _id: edytowanaPotrawa!._id,\r\n      nazwa,\r\n      zdjecie: zdjecieSrc,\r\n      uwagi,\r\n      tagi: wybraneTagi,\r\n      link: linkDoPrzepisu,\r\n    };\r\n    const zedytowanaPotrawa = await EdytujPotraweHelper.edytujPotrawe(potrawaDoEdycji);\r\n\r\n    if (zedytowanaPotrawa) {\r\n      setPotrawy((potrawy) => [...potrawy.filter((p) => p._id !== zedytowanaPotrawa._id), zedytowanaPotrawa]);\r\n      setDodawaniePotrawy(false);\r\n    }\r\n  };\r\n\r\n  const onDodajPotrawe = () => {\r\n    setDodawaniePotrawy(true);\r\n  };\r\n\r\n  const onNazwaChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    setNazwa(event.target.value);\r\n  };\r\n\r\n  const onZdjecieSrcChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    setZdjecieSrc(event.target.value);\r\n  };\r\n\r\n  const onZdjecieSrcBlur = async () => {\r\n    const isValidImg = await EdytujPotraweHelper.isImageExists(zdjecieSrc);\r\n    if (isValidImg) {\r\n      setPokazZdjecie(true);\r\n    } else {\r\n      setPokazZdjecie(false);\r\n    }\r\n  };\r\n\r\n  const onUwagiChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    setUwagi(event.target.value);\r\n  };\r\n\r\n  const onLinkDoPrzepisuChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    setLinkDoPrzepisu(event.target.value);\r\n  };\r\n\r\n  const onAnulujClick = () => {\r\n    setDodawaniePotrawy(false);\r\n  };\r\n\r\n  const onDodajClick = async () => {\r\n    if (edytowanaPotrawa) {\r\n      await akceptujEdycjePotrawy();\r\n    } else {\r\n      await akceptujDodawaniePotrawy();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <DodajButton onDodaj={onDodajPotrawe} />\r\n      <Dialog fullWidth maxWidth={\"sm\"} open={dodawaniePotrawy}>\r\n        <DialogTitle>{dajTytul()}</DialogTitle>\r\n        <DialogContent dividers>\r\n          <form className={classes.root}>\r\n            <div>\r\n              <TextField label=\"Nazwa potrawy\" value={nazwa} onChange={onNazwaChange} fullWidth />\r\n            </div>\r\n            <div>\r\n              <TextField\r\n                label=\"Link do zdjęcia\"\r\n                value={zdjecieSrc}\r\n                onChange={onZdjecieSrcChange}\r\n                onBlur={onZdjecieSrcBlur}\r\n                fullWidth\r\n              />\r\n            </div>\r\n            <div\r\n              className={clsx(classes.zdjecie, {\r\n                [classes.zdjecieImg]: pokazZdjecie,\r\n                [classes.brakZdjecia]: !pokazZdjecie,\r\n              })}\r\n              style={{\r\n                backgroundImage: pokazZdjecie ? `url(${zdjecieSrc})` : \"\",\r\n              }}\r\n            >\r\n              {!pokazZdjecie && <PhotoCameraIcon />}\r\n            </div>\r\n            <div>\r\n              <TextField label=\"Uwagi\" value={uwagi} onChange={onUwagiChange} fullWidth />\r\n            </div>\r\n            <Tagi tagi={tagi} filtrTagiState={[wybraneTagi, setWybraneTagi]} setTagi={setTagi} />\r\n            <div>\r\n              <TextField label=\"Link do przepisu\" value={linkDoPrzepisu} onChange={onLinkDoPrzepisuChange} fullWidth />\r\n            </div>\r\n          </form>\r\n        </DialogContent>\r\n        <DialogActions className={classes.actions}>\r\n          <Button onClick={onAnulujClick}>Anuluj</Button>\r\n          <Button onClick={onDodajClick}>Zapisz</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EdytujPotrawe;\r\n","import React from \"react\";\r\nimport {\r\n  Card,\r\n  CardContent,\r\n  CardHeader,\r\n  CardMedia,\r\n  Chip,\r\n  IconButton,\r\n  Menu,\r\n  MenuItem,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\r\nimport IPotrawa from \"../../../../interfaces/apps/potrawy/IPotrawa\";\r\nimport classes from \"./Potrawa.module.css\";\r\n\r\ninterface Props {\r\n  potrawa: IPotrawa;\r\n  setPotrawy: React.Dispatch<React.SetStateAction<IPotrawa[]>>;\r\n  setDodawaniePotrawy: React.Dispatch<React.SetStateAction<boolean>>;\r\n  setEdytowanaPotrawa: React.Dispatch<React.SetStateAction<IPotrawa | undefined>>;\r\n}\r\n\r\nconst Potrawa: React.FC<Props> = ({ potrawa, setPotrawy, setDodawaniePotrawy, setEdytowanaPotrawa }) => {\r\n  const [anchorEl, setAnchorEl] = React.useState<null | HTMLElement>(null);\r\n\r\n  const onMoreClick = (event: React.MouseEvent<HTMLElement>) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const onMenuClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const onEdytujClick = async () => {\r\n    onMenuClose();\r\n    setEdytowanaPotrawa(potrawa);\r\n    setDodawaniePotrawy(true);\r\n  };\r\n\r\n  const onUsunClick = async () => {\r\n    const response = await fetch(`/apps/posilki/potrawy/${potrawa._id}`, {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    });\r\n    if (response.status === 200) {\r\n      setPotrawy((potrawy) => potrawy.filter((p) => p._id !== potrawa._id));\r\n      // return await response.json();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Card className={classes.card}>\r\n        <CardHeader\r\n          title={potrawa.nazwa}\r\n          disableTypography\r\n          action={\r\n            <IconButton onClick={onMoreClick}>\r\n              <MoreVertIcon />\r\n            </IconButton>\r\n          }\r\n          classes={{\r\n            root: classes.PotrawaHeaderRoot,\r\n            content: classes.PotrawaHeaderContent,\r\n            action: classes.PotrawaHeaderAction,\r\n          }}\r\n        />\r\n        {potrawa.zdjecie && <CardMedia className={classes.media} image={potrawa.zdjecie} />}\r\n        <CardContent>\r\n          <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n            {potrawa.uwagi}\r\n          </Typography>\r\n          {potrawa.tagi.map((tag) => (\r\n            <Chip key={tag._id} label={tag.nazwa} variant=\"outlined\" />\r\n          ))}\r\n        </CardContent>\r\n      </Card>\r\n      <Menu anchorEl={anchorEl} keepMounted open={Boolean(anchorEl)} onClose={onMenuClose}>\r\n        <MenuItem onClick={onEdytujClick}>Edytuj</MenuItem>\r\n        <MenuItem onClick={onUsunClick}>Usuń</MenuItem>\r\n      </Menu>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Potrawa;\r\n","import IPotrawa from \"../../../interfaces/apps/potrawy/IPotrawa\";\r\nimport ITag from \"../../../interfaces/apps/potrawy/ITag\";\r\n\r\nexport default class PotrawyHelper {\r\n  // public static dajTagiDoWyszukiwania = (potrawy: Potrawa[]) => {\r\n  //   const result: Tag[] = [];\r\n  //   for (let i = 0; i < potrawy.length; i++) {\r\n  //     const potrawa = potrawy[i];\r\n  //     for (let j = 0; j < potrawa.tagi.length; j++) {\r\n  //       const tag = potrawa.tagi[j];\r\n  //       const czyTagNaLiscie = result.some((r) => r._id === tag._id);\r\n\r\n  //       if (!czyTagNaLiscie) {\r\n  //         result.push(tag);\r\n  //       }\r\n  //     }\r\n  //   }\r\n  //   return result;\r\n  // };\r\n\r\n  private static dajPotrawyPasujaceDoTagow = (potrawy: IPotrawa[], filtTagi: ITag[]) => {\r\n    const result: IPotrawa[] = [];\r\n    for (let i = 0; i < potrawy.length; i++) {\r\n      const potrawa = potrawy[i];\r\n      for (let j = 0; j < potrawa.tagi.length; j++) {\r\n        const tag = potrawa.tagi[j];\r\n        const czyPasuje = filtTagi.map((filtTag) => filtTag.nazwa).includes(tag.nazwa);\r\n\r\n        if (czyPasuje) {\r\n          result.push(potrawa);\r\n          break;\r\n        }\r\n      }\r\n    }\r\n    return result;\r\n  };\r\n\r\n  public static dajPrzefiltrowanePotrawy = (potrawy: IPotrawa[], filtrNazwa: string, filtrTagi: ITag[]) => {\r\n    let result = [...potrawy];\r\n\r\n    if (filtrNazwa) {\r\n      result = result.filter((potrawa) => potrawa.nazwa.toLowerCase().includes(filtrNazwa.toLowerCase()));\r\n    }\r\n\r\n    if (filtrTagi.length > 0) {\r\n      result = PotrawyHelper.dajPotrawyPasujaceDoTagow(result, filtrTagi);\r\n    }\r\n\r\n    return result;\r\n  };\r\n}\r\n","import React from \"react\";\r\nimport { TextField } from \"@material-ui/core\";\r\nimport Tagi from \"../Tagi/Tagi\";\r\nimport classes from \"./Filtry.module.css\";\r\nimport ITag from \"../../../../interfaces/apps/potrawy/ITag\";\r\n\r\ninterface Props {\r\n  tagi: ITag[];\r\n  filtrNazwaState: [string, React.Dispatch<React.SetStateAction<string>>];\r\n  filtrTagiState: [ITag[], React.Dispatch<React.SetStateAction<ITag[]>>];\r\n}\r\n\r\nconst Filtry: React.FC<Props> = ({ tagi, filtrNazwaState: [filtrNazwa, setFiltrNazwa], filtrTagiState }) => {\r\n  const onFiltrNazwaChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    setFiltrNazwa(event.target.value);\r\n  };\r\n\r\n  return (\r\n    <div className={classes.Filtry}>\r\n      <div className={classes.FiltrNazwa}>\r\n        <TextField\r\n          label=\"Nazwa potrawy...\"\r\n          value={filtrNazwa}\r\n          onChange={onFiltrNazwaChange}\r\n          variant=\"outlined\"\r\n          size=\"small\"\r\n          fullWidth\r\n        />\r\n      </div>\r\n      <Tagi tagi={tagi} filtrTagiState={filtrTagiState} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Filtry;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport IPotrawa from \"../../../interfaces/apps/potrawy/IPotrawa\";\r\nimport EdytujPotrawe from \"./EdytujPotrawe/EdytujPotrawe\";\r\nimport Potrawa from \"./Potrawa/Potrawa\";\r\nimport ITag from \"../../../interfaces/apps/potrawy/ITag\";\r\nimport PotrawyHelper from \"./PotrawyHelper\";\r\nimport Filtry from \"./Filtry/Filtry\";\r\nimport classes from \"./Potrawy.module.css\";\r\n\r\ninterface Props {}\r\n\r\nconst Potrawy = (props: Props) => {\r\n  const [dodawaniePotrawy, setDodawaniePotrawy] = useState(false);\r\n  const [potrawy, setPotrawy] = useState<IPotrawa[]>([]);\r\n  const [edytowanaPotrawa, setEdytowanaPotrawa] = useState<IPotrawa | undefined>(undefined);\r\n  const [tagi, setTagi] = useState<ITag[]>([]);\r\n  const [filtrNazwa, setFiltrNazwa] = useState(\"\");\r\n  const [filtrTagi, setFiltrTagi] = useState<ITag[]>([]);\r\n  const [przefiltrowanePotrawy, setPrzefiltrowanePotrawy] = useState<IPotrawa[]>([]);\r\n\r\n  useEffect(() => {\r\n    getPotrawy();\r\n    getTagi();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    ustawPrzefiltrowanePotrawy();\r\n  }, [potrawy, filtrNazwa, filtrTagi]); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n  const getPotrawy = async () => {\r\n    const response = await fetch(\"/apps/posilki/potrawy\");\r\n    const data = await response.json();\r\n    setPotrawy(data);\r\n  };\r\n\r\n  const getTagi = async () => {\r\n    const response = await fetch(\"/apps/posilki/tagi\");\r\n    const data = await response.json();\r\n    setTagi(data);\r\n  };\r\n\r\n  const ustawPrzefiltrowanePotrawy = () => {\r\n    setPrzefiltrowanePotrawy(PotrawyHelper.dajPrzefiltrowanePotrawy(potrawy, filtrNazwa, filtrTagi));\r\n  };\r\n\r\n  return (\r\n    <div className={classes.Potrawy}>\r\n      <Filtry tagi={tagi} filtrNazwaState={[filtrNazwa, setFiltrNazwa]} filtrTagiState={[filtrTagi, setFiltrTagi]} />\r\n      <div className={classes.ListaPotraw}>\r\n        {przefiltrowanePotrawy.map((potrawa) => (\r\n          <Potrawa\r\n            key={potrawa._id}\r\n            potrawa={potrawa}\r\n            setPotrawy={setPotrawy}\r\n            setDodawaniePotrawy={setDodawaniePotrawy}\r\n            setEdytowanaPotrawa={setEdytowanaPotrawa}\r\n          />\r\n        ))}\r\n      </div>\r\n      <EdytujPotrawe\r\n        setPotrawy={setPotrawy}\r\n        tagiState={[tagi, setTagi]}\r\n        dodawaniePotrawy={dodawaniePotrawy}\r\n        setDodawaniePotrawy={setDodawaniePotrawy}\r\n        edytowanaPotrawa={edytowanaPotrawa}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Potrawy;\r\n","import React, { createContext } from \"react\";\r\nimport { Snackbar } from \"@material-ui/core\";\r\nimport { Alert } from \"@material-ui/lab\";\r\n\r\ntype Color = \"success\" | \"info\" | \"warning\" | \"error\";\r\n\r\ninterface ISnackBar {\r\n  show: (msg: string, severity?: Color) => void;\r\n}\r\n\r\nconst SnackBarContext = createContext({} as ISnackBar);\r\n\r\nconst SnackBarProvider: React.FC = ({ children }) => {\r\n  const [openSnackBar, setOpenSnackBar] = React.useState(false);\r\n  const [msgSnackBar, setMsgSnackBar] = React.useState(\"\");\r\n  const [severitySnackBar, setSeveritySnackBar] = React.useState<Color>(\r\n    \"success\"\r\n  );\r\n\r\n  const show = (msg: string, severity: Color = \"success\") => {\r\n    setMsgSnackBar(msg);\r\n    setSeveritySnackBar(severity);\r\n    setOpenSnackBar(true);\r\n  };\r\n\r\n  const onCloseSnackBar = (event?: React.SyntheticEvent, reason?: string) => {\r\n    if (reason === \"clickaway\") {\r\n      return;\r\n    }\r\n\r\n    setOpenSnackBar(false);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <SnackBarContext.Provider\r\n        value={{\r\n          show,\r\n        }}\r\n      >\r\n        {children}\r\n        <Snackbar\r\n          open={openSnackBar}\r\n          autoHideDuration={6000}\r\n          onClose={onCloseSnackBar}\r\n        >\r\n          <Alert onClose={onCloseSnackBar} severity={severitySnackBar}>\r\n            {msgSnackBar}\r\n          </Alert>\r\n        </Snackbar>\r\n      </SnackBarContext.Provider>\r\n    </>\r\n  );\r\n};\r\n\r\nexport { SnackBarContext, SnackBarProvider };\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport clsx from \"clsx\";\r\nimport { BASE_URL } from \"../../../../config/config\";\r\nimport classes from \"./DodajMange.module.scss\";\r\nimport {\r\n  Button,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  IconButton,\r\n  InputBase,\r\n  MenuItem,\r\n  Select,\r\n  TextField,\r\n} from \"@material-ui/core\";\r\nimport AddBoxIcon from \"@material-ui/icons/AddBox\";\r\nimport DodajButton from \"../../../Common/DodajButton/DodajButton\";\r\nimport IPobieranieChapterowWynikDTO, {\r\n  IPobieranieChapterowChapterDTO,\r\n} from \"../../../../interfaces/apps/sprawdzanie-mangi/IPobieranieChapterowWynikDTO\";\r\nimport IZapisanieMangiKryteriaDTO from \"../../../../interfaces/apps/sprawdzanie-mangi/IZapisanieMangiKryteriaDTO\";\r\nimport { SnackBarContext } from \"../../../../contexts/SnackBarContext\";\r\nimport AuthHeader from \"../../../../services/AuthHeader\";\r\n\r\ninterface Props {\r\n  dodawanieState: [boolean, React.Dispatch<React.SetStateAction<boolean>>];\r\n  getMangi: () => Promise<void>;\r\n}\r\n\r\nconst DodajMange: React.FC<Props> = ({ dodawanieState: [dodawanieMangi, setDodawanieMangi], getMangi }) => {\r\n  const snackBarContext = useContext(SnackBarContext);\r\n\r\n  const [link, setLink] = useState(\"\");\r\n  const [nazwa, setNazwa] = useState(\"\");\r\n  const [chaptery, setChaptery] = useState<IPobieranieChapterowChapterDTO[]>([]);\r\n  const [wybranyChapter, setWybranyChapter] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    if (chaptery && chaptery.length > 0) {\r\n      setWybranyChapter(chaptery[chaptery.length - 1].kolejnosc.toString());\r\n    }\r\n  }, [chaptery]);\r\n\r\n  const onDodajMange = () => {\r\n    setDodawanieMangi(true);\r\n  };\r\n\r\n  const onLinkChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    setLink(event.target.value);\r\n  };\r\n\r\n  const onPobierzChapteryClick = async () => {\r\n    setWybranyChapter(\"\");\r\n\r\n    const response = await fetch(`${BASE_URL}/apps/sprawdzanie-mangi/chapter/url`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        ...AuthHeader.getAuthHeader(),\r\n      },\r\n      body: JSON.stringify({ url: link }),\r\n    });\r\n\r\n    const data: IPobieranieChapterowWynikDTO = await response.json();\r\n\r\n    setNazwa(data.nazwaMangi);\r\n    setChaptery(data.chaptery);\r\n  };\r\n\r\n  const onChapterChange = (event: React.ChangeEvent<{ value: unknown }>) => {\r\n    setWybranyChapter(event.target.value as string);\r\n  };\r\n\r\n  const czyZapiszAktywne = () => {\r\n    return !(chaptery && chaptery.length > 0);\r\n  };\r\n\r\n  const onAnulujClick = () => {\r\n    setDodawanieMangi(false);\r\n  };\r\n\r\n  const dajAktualnyChapter = () => {\r\n    return chaptery.find((chapter) => chapter.kolejnosc.toString().localeCompare(wybranyChapter) === 0)!.numer;\r\n  };\r\n\r\n  const wyszyscForme = () => {\r\n    setLink(\"\");\r\n    setNazwa(\"\");\r\n    setChaptery([]);\r\n    setWybranyChapter(\"\");\r\n  };\r\n\r\n  const onDodajClick = async () => {\r\n    setDodawanieMangi(false);\r\n    wyszyscForme();\r\n\r\n    snackBarContext.show(`Dodawanie mangi: ${nazwa}`, \"info\");\r\n\r\n    const zapisanieMangiKryteriaDTO: IZapisanieMangiKryteriaDTO = {\r\n      mangaNazwa: nazwa,\r\n      mangaUrl: link,\r\n      mangaAktualnyChapter: dajAktualnyChapter(),\r\n      chaptery,\r\n    };\r\n\r\n    const response = await fetch(`${BASE_URL}/apps/sprawdzanie-mangi/manga`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        ...AuthHeader.getAuthHeader(),\r\n      },\r\n      body: JSON.stringify(zapisanieMangiKryteriaDTO),\r\n    });\r\n\r\n    const data = await response.json();\r\n\r\n    console.log(\"TODO: Progress podczas dodawania\");\r\n\r\n    snackBarContext.show(`Dodano mangę: ${data.mangaNazwa}`);\r\n    await getMangi();\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <DodajButton onDodaj={onDodajMange} />\r\n      <Dialog fullWidth maxWidth={\"sm\"} open={dodawanieMangi}>\r\n        <DialogTitle>Dodawanie mangi</DialogTitle>\r\n        <DialogContent dividers>\r\n          <div className={classes.Wrapper}>\r\n            <span className={classes.Label}>Url</span>\r\n            <div className={classes.Link}>\r\n              <InputBase\r\n                className={classes.LinkInput}\r\n                placeholder=\"Link do mangi\"\r\n                value={link}\r\n                onChange={onLinkChange}\r\n              />\r\n              <IconButton\r\n                className={clsx({ [classes.LinkButton]: link })}\r\n                type=\"submit\"\r\n                onClick={onPobierzChapteryClick}\r\n              >\r\n                <AddBoxIcon />\r\n              </IconButton>\r\n            </div>\r\n          </div>\r\n          <div className={classes.Wrapper}>\r\n            <span className={classes.Label}>Nazwa</span>\r\n            <TextField variant=\"outlined\" margin=\"dense\" disabled value={nazwa} />\r\n          </div>\r\n          <div className={classes.Wrapper}>\r\n            <span className={classes.Label}>Chaptery</span>\r\n            <Select\r\n              className={classes.ChapterSelect}\r\n              variant=\"outlined\"\r\n              margin=\"dense\"\r\n              value={wybranyChapter}\r\n              onChange={onChapterChange}\r\n            >\r\n              {chaptery &&\r\n                [...chaptery].reverse().map((chapter) => (\r\n                  <MenuItem key={chapter.kolejnosc} value={chapter.kolejnosc}>\r\n                    {chapter.numer}\r\n                  </MenuItem>\r\n                ))}\r\n            </Select>\r\n          </div>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={onAnulujClick}>Anuluj</Button>\r\n          <Button className={classes.ButtonZapisz} onClick={onDodajClick} disabled={czyZapiszAktywne()}>\r\n            Zapisz\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DodajMange;\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport clsx from \"clsx\";\r\nimport moment from \"moment\";\r\nimport { BASE_URL } from \"../../../../config/config\";\r\nimport classes from \"./MangaItem.module.scss\";\r\nimport { IconButton, Link, MenuItem, Select, TableCell, TableRow } from \"@material-ui/core\";\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\nimport RemoveIcon from \"@material-ui/icons/Remove\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport ChromeReaderModeIcon from \"@material-ui/icons/ChromeReaderMode\";\r\nimport SyncIcon from \"@material-ui/icons/Sync\";\r\nimport IManga from \"../../../../interfaces/apps/sprawdzanie-mangi/IManga\";\r\nimport IOdswiezenieMangiWynikDTO from \"../../../../interfaces/apps/sprawdzanie-mangi/IOdswiezenieMangiWynikDTO\";\r\nimport { SnackBarContext } from \"../../../../contexts/SnackBarContext\";\r\nimport AuthHeader from \"../../../../services/AuthHeader\";\r\n\r\ninterface Props {\r\n  manga: IManga;\r\n  getMangi: () => Promise<void>;\r\n  odswiezanaManga: string;\r\n}\r\n\r\nconst MangaItem: React.FC<Props> = ({ manga, getMangi, odswiezanaManga }) => {\r\n  const snackBarContext = useContext(SnackBarContext);\r\n\r\n  const [aktualnyChapter, setAktualnyChapter] = useState(manga.ostatniChapter);\r\n  const [chaptery, setChaptery] = useState(manga.chaptery);\r\n  const [ostatnieOdswiezenie, setOstatnieOdswiezenie] = useState(manga.ostatnieOdswiezenie);\r\n  const [odswiezanieWTrakcie, setOdswiezanieWTrakcie] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (manga && manga._id) {\r\n      if (manga._id.localeCompare(odswiezanaManga) === 0) {\r\n        odswiezMange();\r\n      }\r\n    }\r\n  }, [odswiezanaManga]); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n  useEffect(() => {\r\n    manga.chaptery = chaptery;\r\n  }, [chaptery]); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n  useEffect(() => {\r\n    manga.ostatnieOdswiezenie = ostatnieOdswiezenie;\r\n  }, [ostatnieOdswiezenie]); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n  useEffect(() => {\r\n    if (manga.ostatniChapter.localeCompare(aktualnyChapter) !== 0) {\r\n      zmienAktualnyChapter();\r\n    }\r\n  }, [aktualnyChapter]); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n  const czyAktualnyChapterPierwszy = () => {\r\n    return aktualnyChapter.localeCompare(chaptery[0].numer) === 0;\r\n  };\r\n\r\n  const czyAktualnyChapterOstatni = () => {\r\n    return aktualnyChapter.localeCompare(chaptery[chaptery.length - 1].numer) === 0;\r\n  };\r\n\r\n  const zmienAktualnyChapter = async () => {\r\n    const response = await fetch(`${BASE_URL}/apps/sprawdzanie-mangi/manga/${manga._id}/`, {\r\n      method: \"PUT\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        ...AuthHeader.getAuthHeader(),\r\n      },\r\n      body: JSON.stringify({ ostatniChapter: aktualnyChapter }),\r\n    });\r\n\r\n    const data: IManga = await response.json();\r\n\r\n    manga.ostatniChapter = data.ostatniChapter;\r\n  };\r\n\r\n  const dajKolejnoscAktualnegoChaptera = () => {\r\n    return chaptery.find((chapter) => chapter.numer.localeCompare(aktualnyChapter) === 0)!.kolejnosc;\r\n  };\r\n\r\n  const odswiezMange = async () => {\r\n    setOdswiezanieWTrakcie(true);\r\n\r\n    const response = await fetch(`${BASE_URL}/apps/sprawdzanie-mangi/manga/${manga._id}/odswiez`, {\r\n      headers: AuthHeader.getAuthHeader(),\r\n    });\r\n    const data: IOdswiezenieMangiWynikDTO = await response.json();\r\n    console.log(data);\r\n\r\n    setOstatnieOdswiezenie(data.ostatnieOdswiezenie);\r\n    setChaptery(data.chaptery);\r\n    setOdswiezanieWTrakcie(false);\r\n  };\r\n\r\n  const onPrevChapterClick = () => {\r\n    const kolejnoscAktualnegoChaptera = dajKolejnoscAktualnegoChaptera();\r\n\r\n    const prevNumer = chaptery.find((chapter) => chapter.kolejnosc === kolejnoscAktualnegoChaptera - 1)!.numer;\r\n\r\n    setAktualnyChapter(prevNumer);\r\n  };\r\n\r\n  const onNextChapterClick = () => {\r\n    const kolejnoscAktualnegoChaptera = dajKolejnoscAktualnegoChaptera();\r\n\r\n    const nextNumer = chaptery.find((chapter) => chapter.kolejnosc === kolejnoscAktualnegoChaptera + 1)!.numer;\r\n\r\n    setAktualnyChapter(nextNumer);\r\n  };\r\n\r\n  const onChapterySelectChange = (event: React.ChangeEvent<{ value: unknown }>) => {\r\n    setAktualnyChapter(event.target.value as string);\r\n  };\r\n\r\n  const onOdswiezChapterClick = async () => {\r\n    await odswiezMange();\r\n  };\r\n\r\n  const onCzytajChapterClick = () => {\r\n    if (czyAktualnyChapterPierwszy() || czyAktualnyChapterOstatni()) {\r\n      const urlChapter = chaptery.find((chapter) => chapter.numer.localeCompare(aktualnyChapter) === 0)!.url;\r\n\r\n      window.open(urlChapter, \"_blank\");\r\n    } else {\r\n      const kolejnosc = dajKolejnoscAktualnegoChaptera() + 1;\r\n\r\n      const urlNastepny = chaptery.find((chapter) => chapter.kolejnosc === kolejnosc)!.url;\r\n      window.open(urlNastepny, \"_blank\");\r\n    }\r\n  };\r\n\r\n  const onUsunMangaClick = async () => {\r\n    const response = await fetch(`${BASE_URL}/apps/sprawdzanie-mangi/manga/${manga._id}`, {\r\n      method: \"DELETE\",\r\n      headers: AuthHeader.getAuthHeader(),\r\n    });\r\n\r\n    if (response.status === 201) {\r\n      snackBarContext.show(`Usunięto mangę: ${manga.nazwa}`);\r\n      await getMangi();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <TableRow\r\n      key={manga._id}\r\n      className={clsx(classes.MangaItem, {\r\n        [classes.MangaItemNaBiezaco]: czyAktualnyChapterOstatni(),\r\n      })}\r\n    >\r\n      <TableCell>\r\n        <Link className={classes.MangaItemLink} href={manga.url} target=\"_blank\" rel=\"noopener noreferrer\">\r\n          {manga.nazwa}\r\n        </Link>\r\n      </TableCell>\r\n      <TableCell>\r\n        <div className={classes.ChapterSelectWrapper}>\r\n          <IconButton color=\"primary\" disabled={czyAktualnyChapterPierwszy()} onClick={onPrevChapterClick}>\r\n            <RemoveIcon />\r\n          </IconButton>\r\n          <Select\r\n            className={classes.ChapterSelect}\r\n            variant=\"outlined\"\r\n            margin=\"dense\"\r\n            value={aktualnyChapter}\r\n            onChange={onChapterySelectChange}\r\n          >\r\n            {[...chaptery].reverse().map((chapter) => (\r\n              <MenuItem key={chapter._id} className={classes.ChapterSelectItem} value={chapter.numer}>\r\n                {chapter.numer}\r\n              </MenuItem>\r\n            ))}\r\n          </Select>\r\n          <IconButton color=\"primary\" disabled={czyAktualnyChapterOstatni()} onClick={onNextChapterClick}>\r\n            <AddIcon />\r\n          </IconButton>\r\n        </div>\r\n      </TableCell>\r\n      <TableCell>{chaptery[chaptery.length - 1].numer}</TableCell>\r\n      <TableCell>{moment.utc(ostatnieOdswiezenie).fromNow()}</TableCell>\r\n      <TableCell>\r\n        <div className={classes.MangaAkcje}>\r\n          <IconButton\r\n            className={clsx(classes.AkcjaButton, {\r\n              [classes.OdswiezMangeRotate]: odswiezanieWTrakcie,\r\n            })}\r\n            color=\"primary\"\r\n            onClick={onOdswiezChapterClick}\r\n          >\r\n            <SyncIcon />\r\n          </IconButton>\r\n          <IconButton className={classes.AkcjaButton} color=\"primary\" onClick={onCzytajChapterClick}>\r\n            <ChromeReaderModeIcon />\r\n          </IconButton>\r\n          <IconButton className={classes.AkcjaButton} color=\"primary\" onClick={onUsunMangaClick}>\r\n            <DeleteIcon />\r\n          </IconButton>\r\n        </div>\r\n      </TableCell>\r\n    </TableRow>\r\n  );\r\n};\r\n\r\nexport default MangaItem;\r\n","export const sleep = (ms: number) => {\r\n  return new Promise((resolve) => setTimeout(resolve, ms));\r\n};\r\n\r\nexport const sleepRand = (msMin: number, msMax: number) => {\r\n  const ms = Math.floor(Math.random() * msMax) + msMin;\r\n  return new Promise((resolve) => setTimeout(resolve, ms));\r\n};\r\n","import IApp from \"../../interfaces/IApp\";\r\nimport Potrawy from \"./Potrawy/Potrawy\";\r\nimport SprawdzanieMangi from \"./SprawdzanieMangi/SprawdzanieMangi\";\r\n\r\nexport const appList: IApp[] = [\r\n  {\r\n    tytul: \"Posiłki\",\r\n    link: \"posilki\",\r\n    image: \"https://material-ui.com/static/images/cards/paella.jpg\",\r\n    component: Potrawy,\r\n  },\r\n  {\r\n    tytul: \"Pomiary wagi\",\r\n    link: \"waga\",\r\n    image: \"https://material-ui.com/static/images/cards/paella.jpg\",\r\n    component: Potrawy,\r\n  },\r\n  {\r\n    // \"Strona z planem biegania\"\r\n    tytul: \"Plan biegania\",\r\n    link: \"bieganie\",\r\n    image: \"https://material-ui.com/static/images/cards/paella.jpg\",\r\n    component: Potrawy,\r\n  },\r\n  {\r\n    // \"Strona z ćwiczeniami codzienny zapis czy zrobione\"\r\n    tytul: \"Ćwieczenia\",\r\n    link: \"cwiczenia\",\r\n    image: \"https://material-ui.com/static/images/cards/paella.jpg\",\r\n    component: Potrawy,\r\n  },\r\n  {\r\n    // \"Strona z opłatami, zbliżający się okres opłaty, pop-upy z wiadomościami o zbliżającej się opłacie\"\r\n    tytul: \"Opłaty\",\r\n    link: \"oplaty\",\r\n    image: \"https://material-ui.com/static/images/cards/paella.jpg\",\r\n    component: Potrawy,\r\n  },\r\n  {\r\n    // \"Sprawdzanie czy wyszłedł nowy chapter\"\r\n    tytul: \"Sprawdzanie mangi\",\r\n    link: \"sprawdzanie-mangi\",\r\n    image:\r\n      \"https://aikido.waw.pl/wp-content/uploads/2019/08/turn-pen-976930_1280.jpg\",\r\n    component: SprawdzanieMangi,\r\n  },\r\n];\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { BASE_URL } from \"../../../config/config\";\r\nimport classes from \"./SprawdzanieMangi.module.scss\";\r\nimport {\r\n  Button,\r\n  CircularProgress,\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableContainer,\r\n  TableHead,\r\n  TableRow,\r\n} from \"@material-ui/core\";\r\nimport IManga from \"../../../interfaces/apps/sprawdzanie-mangi/IManga\";\r\nimport IChapter from \"../../../interfaces/apps/sprawdzanie-mangi/IChapter\";\r\nimport DodajMange from \"./DodajMange/DodajMange\";\r\nimport MangaItem from \"./MangaItem/MangaItem\";\r\nimport { sleepRand } from \"../../Common/CommonHelper\";\r\nimport AuthHeader from \"../../../services/AuthHeader\";\r\n\r\ninterface Props {}\r\n\r\nconst SprawdzanieMangi = (props: Props) => {\r\n  const [loading, setLoading] = useState(true);\r\n  const [mangi, setMangi] = useState<IManga[]>([]);\r\n  const [dodawanieMangi, setDodawanieMangi] = useState(false);\r\n  const [odswiezanaManga, setOdswiezanaManga] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    getMangi();\r\n  }, []);\r\n\r\n  const getMangi = async () => {\r\n    const responseManga = await fetch(`${BASE_URL}/apps/sprawdzanie-mangi/manga`, {\r\n      headers: AuthHeader.getAuthHeader(),\r\n    });\r\n    const dataMangi: IManga[] = await responseManga.json();\r\n\r\n    for (const manga of dataMangi) {\r\n      const responseChapter = await fetch(`${BASE_URL}/apps/sprawdzanie-mangi/manga/${manga._id}/chaptery`, {\r\n        headers: AuthHeader.getAuthHeader(),\r\n      });\r\n      const dataChaptery: IChapter[] = await responseChapter.json();\r\n      manga.chaptery = dataChaptery;\r\n    }\r\n\r\n    setLoading(false);\r\n    setMangi(dataMangi);\r\n  };\r\n\r\n  const onSprawdzMangiClick = async () => {\r\n    for (const manga of mangi) {\r\n      setOdswiezanaManga(manga._id!);\r\n      await sleepRand(3000, 10000);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={classes.SprawdzanieMangi}>\r\n      <Button className={classes.SprawdzMangi} variant=\"outlined\" fullWidth onClick={onSprawdzMangiClick}>\r\n        Sprawdź mangi\r\n      </Button>\r\n      <TableContainer>\r\n        <Table className={classes.MangiTable}>\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell>Nazwa</TableCell>\r\n              <TableCell>Ostatni przeczytany</TableCell>\r\n              <TableCell>Najnowszy chapter</TableCell>\r\n              <TableCell>Ostatnie odświeżenie</TableCell>\r\n              <TableCell>Akcje</TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody className={classes.Test}>\r\n            {mangi.map((manga) => (\r\n              <MangaItem key={manga._id} manga={manga} getMangi={getMangi} odswiezanaManga={odswiezanaManga} />\r\n            ))}\r\n          </TableBody>\r\n        </Table>\r\n      </TableContainer>\r\n      {loading && (\r\n        <div className={classes.ProgressWrapper}>\r\n          <CircularProgress size={68} />\r\n        </div>\r\n      )}\r\n\r\n      <DodajMange dodawanieState={[dodawanieMangi, setDodawanieMangi]} getMangi={getMangi} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SprawdzanieMangi;\r\n","import React from \"react\";\r\nimport { Link, useRouteMatch } from \"react-router-dom\";\r\nimport { Card, CardHeader, CardMedia } from \"@material-ui/core\";\r\nimport IApp from \"../../../interfaces/IApp\";\r\nimport classes from \"./MyCard.module.css\";\r\n\r\ninterface Props {\r\n  app: IApp;\r\n}\r\n\r\nconst MyCard: React.FC<Props> = ({ app }) => {\r\n  const { url } = useRouteMatch();\r\n  return (\r\n    <Card className={classes.card}>\r\n      <Link to={`${url}/${app.link}`} className={classes.link}>\r\n        <CardHeader title={app.tytul} disableTypography />\r\n        <CardMedia className={classes.media} image={app.image} />\r\n      </Link>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default MyCard;\r\n","import React from \"react\";\r\nimport { appList } from \"./AppList\";\r\nimport MyCard from \"./MyCard/MyCard\";\r\nimport classes from \"./Apps.module.css\";\r\n\r\ninterface Props {}\r\n\r\nconst Apps: React.FC<Props> = (props) => {\r\n  return (\r\n    <div className={classes.Apps}>\r\n      {appList.map((app) => (\r\n        <MyCard key={app.link} app={app} />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Apps;\r\n","import React from \"react\";\r\nimport { Route, useRouteMatch } from \"react-router-dom\";\r\nimport PrivateRoute from \"../../hocs/PrivateRoute\";\r\nimport Apps from \"./Apps\";\r\nimport { appList } from \"./AppList\";\r\n\r\ninterface Props {}\r\n\r\nconst AppsRoutes = (props: Props) => {\r\n  const { path } = useRouteMatch();\r\n  return (\r\n    <>\r\n      <Route exact path={path} component={Apps} />\r\n      {appList.map((app) => (\r\n        <PrivateRoute\r\n          key={app.link}\r\n          path={`${path}/${app.link}`}\r\n          roles={[\"user\", \"admin\"]}\r\n          component={app.component}\r\n        />\r\n      ))}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AppsRoutes;\r\n","import React from \"react\";\r\n\r\ninterface Props {}\r\n\r\nconst Games: React.FC<Props> = (props) => {\r\n  return (\r\n    <div>\r\n      <div>Kółko i krzyżyk</div>\r\n      <div>Othello/Reversi</div>\r\n      <div>Gra ze strzelaniem - refleks (AIM maps)</div>\r\n      <div>Onitama</div>\r\n      <div>Gra memo</div>\r\n      <div>Gra doodle</div>\r\n      <div>Gra, powtarzanie sekwencji, podświetlanych divów</div>\r\n      <div>\r\n        Strona z opłatami, zbliżający się okres opłaty, pop-upy z wiadomościami\r\n        o zbliżającej się opłacie\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Games;\r\n","import React from \"react\";\r\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\r\nimport moment from \"moment\";\r\nimport \"moment/locale/pl\";\r\nimport Home from \"./components/Home\";\r\nimport Login from \"./components/Login\";\r\nimport Register from \"./components/Register\";\r\nimport Navbar from \"./components/Navbar/Navbar\";\r\nimport AppsRoutes from \"./components/Apps/AppsRoutes\";\r\nimport Games from \"./components/Games\";\r\nimport \"./App.css\";\r\n\r\ninterface Props {}\r\n\r\nconst App: React.FC<Props> = (props) => {\r\n  moment.locale(\"pl\");\r\n\r\n  return (\r\n    <BrowserRouter basename={process.env.PUBLIC_URL}>\r\n      <Navbar />\r\n      <Switch>\r\n        <Route exact path=\"/\" component={Home} />\r\n        <Route path=\"/apps\" component={AppsRoutes} />\r\n        <Route path=\"/games\" component={Games} />\r\n        <Route path=\"/login\" component={Login} />\r\n        <Route path=\"/register\" component={Register} />\r\n      </Switch>\r\n    </BrowserRouter>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);  \n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n}\n\nexport default reportWebVitals;\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { StylesProvider } from \"@material-ui/core/styles\";\r\nimport App from \"./App\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\nimport { AuthProvider } from \"./contexts/AuthContext\";\r\nimport { SnackBarProvider } from \"./contexts/SnackBarContext\";\r\nimport \"./index.css\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <AuthProvider>\r\n      <SnackBarProvider>\r\n        <StylesProvider injectFirst>\r\n          <App />\r\n        </StylesProvider>\r\n      </SnackBarProvider>\r\n    </AuthProvider>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Wrapper\":\"DodajMange_Wrapper__daPqx\",\"Label\":\"DodajMange_Label__17-sn\",\"Link\":\"DodajMange_Link__3jysG\",\"LinkInput\":\"DodajMange_LinkInput__v-1Qk\",\"LinkButton\":\"DodajMange_LinkButton__12fnl\",\"ButtonZapisz\":\"DodajMange_ButtonZapisz__2xzdg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"MangaItemLink\":\"MangaItem_MangaItemLink__2iL-k\",\"ChapterButtonMinus\":\"MangaItem_ChapterButtonMinus__2ozVw\",\"ChapterButtonPlus\":\"MangaItem_ChapterButtonPlus__2dwxx\",\"AkcjaButton\":\"MangaItem_AkcjaButton__2p-hN\",\"MangaItem\":\"MangaItem_MangaItem__2pMNQ\",\"MangaItemNaBiezaco\":\"MangaItem_MangaItemNaBiezaco__2DCbH\",\"ChapterSelectWrapper\":\"MangaItem_ChapterSelectWrapper__okJxi\",\"ChapterSelect\":\"MangaItem_ChapterSelect__3PtQZ\",\"ChapterSelectItem\":\"MangaItem_ChapterSelectItem__2UpR-\",\"MangaAkcje\":\"MangaItem_MangaAkcje__2boDE\",\"OdswiezMangeRotate\":\"MangaItem_OdswiezMangeRotate__3AO2M\",\"rotate\":\"MangaItem_rotate__2q0XW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Navbar\":\"Navbar_Navbar__1w2r0\",\"LogoIcon\":\"Navbar_LogoIcon__3XjdL\",\"MenuIcon\":\"Navbar_MenuIcon__1DWoG\",\"Menu\":\"Navbar_Menu__1NbsL\",\"MenuList\":\"Navbar_MenuList__2WbY3\",\"MenuItemSpace\":\"Navbar_MenuItemSpace__3zWW5\",\"MenuIconActive\":\"Navbar_MenuIconActive__fxqEg\",\"MenuListActive\":\"Navbar_MenuListActive__18O5A\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"EdytujPotrawe_root__2DEFJ\",\"dialog\":\"EdytujPotrawe_dialog__2z87q\",\"zdjecie\":\"EdytujPotrawe_zdjecie__2YiBn\",\"zdjecieImg\":\"EdytujPotrawe_zdjecieImg__1FTLs\",\"brakZdjecia\":\"EdytujPotrawe_brakZdjecia__2jnGX\",\"actions\":\"EdytujPotrawe_actions__GkmEz\",\"asd\":\"EdytujPotrawe_asd__1Ty-R\",\"asd1\":\"EdytujPotrawe_asd1__3S4QI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Potrawa_card__3adbR\",\"PotrawaHeaderRoot\":\"Potrawa_PotrawaHeaderRoot__2Iv7e\",\"PotrawaHeaderContent\":\"Potrawa_PotrawaHeaderContent__3mjd1\",\"PotrawaHeaderAction\":\"Potrawa_PotrawaHeaderAction__i2OgS\",\"media\":\"Potrawa_media__1xaOY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SprawdzanieMangi\":\"SprawdzanieMangi_SprawdzanieMangi__1owLR\",\"SprawdzMangi\":\"SprawdzanieMangi_SprawdzMangi__1xJGl\",\"MangiTable\":\"SprawdzanieMangi_MangiTable__A7Te_\",\"ProgressWrapper\":\"SprawdzanieMangi_ProgressWrapper__1OGY6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"DodajTag\":\"DodajTag_DodajTag__noEEJ\",\"DodajTagInput\":\"DodajTag_DodajTagInput__3BmTd\",\"DodajTagBezFocusa\":\"DodajTag_DodajTagBezFocusa__gRW9e\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"MyCard_card__QJEvQ\",\"link\":\"MyCard_link__O6LqI\",\"media\":\"MyCard_media__1qiUF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Filtry\":\"Filtry_Filtry__3IVAL\",\"FiltrNazwa\":\"Filtry_FiltrNazwa__rIyPT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Potrawy\":\"Potrawy_Potrawy__1C4YQ\",\"ListaPotraw\":\"Potrawy_ListaPotraw__I04n5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Avatar\":\"AuthenticatedNavBar_Avatar__13634\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Fab\":\"DodajButton_Fab__1qtb6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Tag\":\"Tag_Tag__AsK-2\"};"],"sourceRoot":""}